(this["webpackJsonpfront-egeon"]=this["webpackJsonpfront-egeon"]||[]).push([[0],{28:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n(18),s=n.n(c),i=n(11),o=n(13),l=n(30),j=n(4),u="[auth] Login state finished",d="[auth] Login",m="[auth] Logout",b={checking:!0},h=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case u:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case m:return{checking:!1};default:return e}}}),f="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,O=Object(o.e)(h,f(Object(o.a)(l.a))),x=n(14),p=n(3),g=n(21),v=function(e){var t=e.isAuthenticated,n=e.component,a=Object(g.a)(e,["isAuthenticated","component"]);return Object(r.jsx)(p.b,Object(j.a)(Object(j.a)({},a),{},{component:function(e){return t?Object(r.jsx)(n,Object(j.a)({},e)):Object(r.jsx)(p.a,{to:"/login"})}}))},w=function(e){var t=e.isAuthenticated,n=e.component,a=Object(g.a)(e,["isAuthenticated","component"]);return Object(r.jsx)(p.b,Object(j.a)(Object(j.a)({},a),{},{component:function(e){return t?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)(n,Object(j.a)({},e))}}))},N=n(12),y=n.n(N),k=n(16),S="https://egeon.herokuapp.com/api",P=function(e,t,n){var r="".concat(S,"/").concat(e);return"GET"===n?fetch(r):fetch(r,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r="".concat(S,"/").concat(e),a=localStorage.getItem("token")||"";return"GET"===n?fetch(r,{headers:{"x-token":a}}):fetch(r,{method:n,headers:{"Content-type":"application/json","x-token":a},body:JSON.stringify(t)})},E=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/img?topic=").concat(t),e.next=3,fetch(n);case 3:return r=e.sent,e.abrupt("return",r.json().then((function(e){return e.results})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(8),I=n.n(T),_=function(){return{type:u}},L=function(e){return{type:d,payload:e}},A=function(){return{type:m}},D=n(10),G=n(20),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(D.a)(t,2),r=n[0],c=n[1],s=function(e){var t=e.target;c(Object(j.a)(Object(j.a)({},r),{},Object(G.a)({},t.name,t.value)))};return[r,s]},F=(n(42),function(){var e=Object(i.b)(),t=B({loginEmail:"",loginPassword:""}),n=Object(D.a)(t,2),a=n[0],c=n[1],s=a.loginEmail,o=a.loginPassword,l=B({registerUsername:"",registerEmail:"",registerPassword:"",registerPassword2:""}),j=Object(D.a)(l,2),u=j[0],d=j[1],m=u.registerUsername,b=u.registerEmail,h=u.registerPassword,f=u.registerPassword2;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"container login-container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-md-6 login-form-1",children:[Object(r.jsx)("h3",{children:"Login "}),Object(r.jsxs)("form",{onSubmit:function(t){var n,r;t.preventDefault(),e((n=s,r=o,function(){var e=Object(k.a)(y.a.mark((function e(t){var a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("auth",{email:n,password:r},"POST");case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,s=c.errors,400!==a.status){e.next=20;break}if(void 0===s){e.next=17;break}if(void 0===s.email){e.next=11;break}return e.abrupt("return",I.a.fire("Something gone wrong",s.email.msg,"error"));case 11:if(void 0===s.password){e.next=14;break}return e.abrupt("return",I.a.fire("Something gone wrong",s.password.msg,"error"));case 14:e.next=18;break;case 17:I.a.fire("Something gone wrong",c.msg,"error");case 18:e.next=24;break;case 20:I.a.fire({icon:"success",text:"Logged in",showConfirmButton:!1,timer:1e3}),localStorage.setItem("token",c.token),localStorage.setItem("token-imit-date",(new Date).getTime()),t(L({username:c.username,uid:c.uid}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",name:"loginEmail",value:s,onChange:c,autoComplete:"off"})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"loginPassword",value:o,onChange:c})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"submit",className:"btnSubmit",value:"Login"})})]})]}),Object(r.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(r.jsx)("h3",{children:"Register"}),Object(r.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),h!==f)return I.a.fire("Something gone wrong","The passwords must be the same","error");var n,r,a;e((n=m,r=b,a=h,function(){var e=Object(k.a)(y.a.mark((function e(t){var c,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("auth/register",{username:n,email:r,password:a},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:if(s=e.sent,i=s.errors,400!==c.status){e.next=20;break}if(void 0===i){e.next=17;break}if(void 0===i.username){e.next=11;break}return e.abrupt("return",I.a.fire("Something gone wrong",i.username.msg,"error"));case 11:if(void 0===i.email){e.next=13;break}return e.abrupt("return",I.a.fire("Something gone wrong",i.email.msg,"error"));case 13:if(void 0===i.password){e.next=15;break}return e.abrupt("return",I.a.fire("Something gone wrong",i.password.msg,"error"));case 15:e.next=18;break;case 17:I.a.fire("Something gone wrong",s.msg,"error");case 18:e.next=23;break;case 20:localStorage.setItem("token",s.token),localStorage.setItem("token-imit-date",(new Date).getTime()),t(L({username:s.username,uid:s.uid}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Username",name:"registerUsername",value:m,onChange:d,autoComplete:"off"})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Email address",name:"registerEmail",value:b,onChange:d,autoComplete:"off"})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"registerPassword",value:h,onChange:d})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"password",className:"form-control",placeholder:"Repeat password",name:"registerPassword2",value:f,onChange:d})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{type:"submit",className:"btnSubmit",value:"Sign up"})})]})]})]})})})}),R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).username;return Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark indigo mb-4",style:{"background-color":"#0273F7"},children:[Object(r.jsx)("a",{className:"navbar-brand",style:{color:"white"},children:t}),Object(r.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(r.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsx)(x.b,{to:"/home",className:"nav-link",style:{color:"white"},children:"Home"})}),Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsx)(x.b,{to:"/home",className:"nav-link",style:{color:"white"},children:"Favorites"})})]}),Object(r.jsx)("ul",{className:"navbar-nav ml-auto nav-flex-icons",children:Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"waves-effect waves-light",children:Object(r.jsxs)("button",{className:"btn btn-unique",onClick:function(){e((function(e){localStorage.clear(),e(A())}))},children:[Object(r.jsx)("span",{children:"Log out\u200b\u200b\u200b\u200b\u200a\u200a"}),Object(r.jsx)("i",{className:"fas fa-sign-out-alt"})]})})})})]})]})},U=function(e){var t=e.setTopic,n=Object(a.useState)(""),c=Object(D.a)(n,2),s=c[0],i=c[1];return Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim().length>0&&(t(s),i(""))},children:Object(r.jsx)("div",{class:"md-form active-purple mb-5",style:{width:"30vw",marginLeft:"1vw"},children:Object(r.jsx)("input",{class:"form-control",type:"text",value:s,onChange:function(e){i(e.target.value)},placeholder:"Search GIPHY","aria-label":"Search"})})})},J=function(){console.log("Start download")},z=(n(28),function(e){var t=e.title,n=e.url;return Object(r.jsxs)("div",{className:"card animate__animated animate__fadeIn img",style:{width:"18rem",marginBottom:"4%",align:"center"},id:t,children:[Object(r.jsx)("img",{src:n,className:"card-img-top",alt:t}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("p",{className:"card-text",children:t}),Object(r.jsx)("a",{className:"btn btn-secondary",onClick:J,children:Object(r.jsx)("i",{className:"fas fa-download"})})]})]})}),H=function(e){var t=e.topic,n=function(e){var t=Object(a.useState)({data:[],loading:!0}),n=Object(D.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){E(e).then((function(e){c({data:e,loading:!1})}))}),[e]),r}(t),c=n.data,s=n.loading;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("h3",{style:{marginLeft:"1vw",marginBottom:"5vh"},children:["Results of: ",t]}),s&&Object(r.jsx)("div",{style:{display:"flex","justify-content":"center"},children:Object(r.jsx)("div",{className:"spinner-border text-primary ",style:{width:"8rem",height:"8rem"},role:"status"})}),Object(r.jsx)("div",{className:"text-primary flexbox",children:c.map((function(e){return Object(r.jsx)(z,Object(j.a)({},e),e.id)}))})]})},X=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("hr",{}),Object(r.jsxs)("footer",{className:"page-footer font-small pt-4",children:[Object(r.jsx)("div",{className:"container-fluid text-center text-md-left",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-md-4 mt-md-0 mt-3",children:[Object(r.jsx)("h5",{className:"text-uppercase",children:"egeon project"}),Object(r.jsx)("p",{children:"static web page for view and download gifs powered by the Giphy API."})]}),Object(r.jsx)("hr",{className:"clearfix w-100 d-md-none pb-3"}),Object(r.jsxs)("div",{className:"col-md-3 mb-md-0 mb-3",children:[Object(r.jsx)("h5",{className:"text-uppercase",children:"Platform"}),Object(r.jsxs)("ul",{className:"list-unstyled",children:[Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/GerezPablo",children:"Creator"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Brand & Agencies"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Pricing"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Comunity"})})]})]}),Object(r.jsxs)("div",{className:"col-md-2 mb-md-0 mb-2",children:[Object(r.jsx)("h5",{className:"text-uppercase",children:"Company"}),Object(r.jsx)("ul",{className:"list-unstyled",children:Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Careers"})})})]}),Object(r.jsxs)("div",{className:"col-md-3 mb-md-0 mb-2",children:[Object(r.jsx)("h5",{className:"text-uppercase",children:"Resources"}),Object(r.jsxs)("ul",{className:"list-unstyled",children:[Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/GerezPablo/egeon-project",children:"Backend"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/GerezPablo/front-egeon",children:"Frontend"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Help "})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Terms of use"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#!",children:"Privacy"})})]})]})]})}),Object(r.jsx)("div",{className:"footer-copyright text-center py-3",children:"\xa9 2020 Copyright: Egeon industries "})]})]})},q=function(){var e=Object(a.useState)("dragon ball"),t=Object(D.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(R,{}),Object(r.jsx)(U,{setTopic:c}),Object(r.jsx)(H,{topic:n},n),Object(r.jsx)(X,{})]})},M=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).uid;return Object(a.useEffect)((function(){e(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,400===n.status?(I.a.fire("Something gone wrong",r.msg,"error"),t(_())):(localStorage.setItem("token",r.token),localStorage.setItem("token-imit-date",(new Date).getTime()),t(L({username:r.username,uid:r.uid})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(r.jsx)(x.a,{children:Object(r.jsx)("div",{children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(w,{exact:!0,path:"/login",component:F,isAuthenticated:!!t}),Object(r.jsx)(v,{exact:!0,path:"/home",component:q,isAuthenticated:!!t}),Object(r.jsx)(p.a,{to:"/home"})]})})})},V=function(){return Object(r.jsx)(i.a,{store:O,children:Object(r.jsx)(M,{})})};s.a.render(Object(r.jsx)(V,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.46b22002.chunk.js.map